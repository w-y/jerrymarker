/*! jerrymarker 15-09-2014 */
"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="".__proto__===String.prototype?function(a){return a.__proto__}:function(a){return a.constructor.prototype}),Object.create||(Object.create=function(){function a(){}return function(b){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}());var jerrymarker=function(){function a(){this.yy={}}var b=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},c=[1,6],d=[1,10],e=[1,5],f=[1,11],g=[1,12],h=[1,13],i=[5,26,41,43,47,49,51,52,53,55,57],j=[1,27],k=[1,18],l=[1,17],m=[1,19],n=[1,20],o=[1,22],p=[1,23],q=[1,24],r=[1,25],s=[1,28],t=[1,33],u=[1,34],v=[1,35],w=[1,36],x=[1,37],y=[1,38],z=[1,39],A=[1,40],B=[1,41],C=[1,42],D=[1,43],E=[1,44],F=[1,45],G=[1,46],H=[1,47],I=[1,48],J=[11,12,13,14,15,16,17,18,19,20,21,22,23,25,28,29,30,31,38,42,48],K=[1,60],L=[8,11,12,13,14,15,16,17,18,19,20,21,22,23,25,26,27,28,29,30,31,38,42,48,56,58],M=[11,12,13,14,15,16,17,18,19,20,21,22,23,25,26,28,29,30,31,38,42,48],N=[31,38],O=[11,14,15,16,18,19,20,21,22,23,25,31,38,42,48],P=[11,12,13,14,15,16,17,18,19,20,21,22,23,25,31,38,42,48],Q=[14,15,18,19,20,21,22,23,25,31,38,42,48],R=[22,23,25,31,38,42,48],S=[1,108],T=[1,109],U={trace:function(){},yy:{},symbols_:{error:2,html:3,contents:4,EOF:5,content:6,OBJECT:7,DOT:8,IDENTIFIER:9,e:10,"+":11,"*":12,"%":13,"==":14,"!=":15,"-":16,"/":17,"<":18,">":19,">=":20,"<=":21,"||":22,"&&":23,"(":24,")":25,INDENT:26,"!":27,"??":28,"?html":29,"?string":30,",":31,NUMBER:32,STRING:33,TRUE:34,FALSE:35,SEQUENCE:36,"[":37,"]":38,SEQELEMENT:39,INTERPOLATIONS:40,"${":41,"}":42,CHAR:43,IFDIRECTIVE:44,LISTDIRECTIVE:45,ASSIGNDIRECTIVE:46,DIRECTIVE_IF_START_TAG:47,DIRECTIVE_END:48,DIRECTIVE_IF_END_TAG:49,ELSEIF:50,DIRECTIVE_ELSEIF_START_TAG:51,DIRECTIVE_ELSE_START_TAG:52,DIRECTIVE_LIST_START_TAG:53,AS:54,DIRECTIVE_LIST_END_TAG:55,"..":56,DIRECTIVE_ASSIGN_START_TAG:57,"=":58,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"DOT",9:"IDENTIFIER",11:"+",12:"*",13:"%",14:"==",15:"!=",16:"-",17:"/",18:"<",19:">",20:">=",21:"<=",22:"||",23:"&&",24:"(",25:")",26:"INDENT",27:"!",28:"??",29:"?html",30:"?string",31:",",32:"NUMBER",33:"STRING",34:"TRUE",35:"FALSE",37:"[",38:"]",41:"${",42:"}",43:"CHAR",47:"DIRECTIVE_IF_START_TAG",48:"DIRECTIVE_END",49:"DIRECTIVE_IF_END_TAG",51:"DIRECTIVE_ELSEIF_START_TAG",52:"DIRECTIVE_ELSE_START_TAG",53:"DIRECTIVE_LIST_START_TAG",54:"AS",55:"DIRECTIVE_LIST_END_TAG",56:"..",57:"DIRECTIVE_ASSIGN_START_TAG",58:"="},productions_:[0,[3,2],[4,1],[4,2],[7,3],[7,1],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,3],[10,2],[10,3],[10,2],[10,2],[10,2],[10,7],[10,3],[10,4],[10,3],[10,1],[10,2],[10,2],[10,3],[10,1],[10,2],[10,3],[10,2],[10,1],[10,1],[10,1],[10,2],[10,2],[10,3],[10,1],[10,2],[36,2],[36,3],[39,1],[39,3],[40,3],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[44,5],[44,5],[50,5],[50,4],[50,5],[50,5],[45,10],[45,11],[45,10],[45,12],[45,12],[45,12],[45,12],[46,6],[46,7]],performAction:function(a,b,c,d,e,f){var g=f.length-1;switch(e){case 1:var h=f[g-1];return this.$=h,this.$;case 2:var i=new d.ast.ContentNode;i.v.push(f[g]),this.$=i;break;case 3:var i=new d.ast.ContentNode;i.v.push(f[g]),f[g-1].v.push(i),this.$=f[g-1];break;case 4:this.$=new d.ast.ObjectNode(".",f[g-2],f[g]);break;case 5:case 39:case 41:this.$=new d.ast.ObjectNode("value",f[g]);break;case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:this.$=new d.ast.ExpressionNode(f[g-1],f[g-2],f[g]);break;case 19:this.$=new d.ast.ExpressionNode("eval",f[g-1]);break;case 20:case 21:this.$=new d.ast.ExpressionNode("uminus",f[g]);break;case 22:case 28:this.$=new d.ast.ExpressionNode("unot",f[g]);break;case 23:this.$=new d.ast.ExpressionNode("exist",f[g-1]);break;case 24:this.$=new d.ast.ExpressionNode("tohtml",f[g-1]);break;case 25:this.$=new d.ast.ExpressionNode("trueset",f[g-6],f[g-3],f[g-1]);break;case 26:case 27:this.$=new d.ast.ExpressionNode("existset",f[g-2],f[g]);break;case 29:this.$=new d.ast.ObjectNode("literalvalue",Number(a));break;case 30:this.$=new d.ast.ObjectNode("literalvalue",Number(f[g]));break;case 31:case 32:this.$=new d.ast.ObjectNode("literalvalue",Number(f[g-1]));break;case 33:this.$=new d.ast.ObjectNode("literalvalue",f[g].slice(1,-1));break;case 34:this.$=new d.ast.ObjectNode("literalvalue",f[g].slice(1,-1));break;case 35:case 36:this.$=new d.ast.ObjectNode("literalvalue",f[g-1].slice(1,-1));break;case 37:this.$=new d.ast.ObjectNode("literalvalue",!0);break;case 38:this.$=new d.ast.ObjectNode("literalvalue",!1);break;case 40:case 42:this.$=new d.ast.ObjectNode("value",f[g-1]);break;case 44:this.$=f[g];break;case 45:this.$=new d.ast.ObjectNode("array",[]);break;case 46:this.$=new d.ast.ObjectNode("array",f[g-1]);break;case 47:this.$=[f[g]];break;case 48:f[g-2].push(f[g]),this.$=f[g-2];break;case 49:this.$=f[g-1];break;case 50:this.$=new d.ast.InterPolationNode(f[g]);break;case 51:case 52:this.$=new d.ast.LiteralNode(f[g]);break;case 56:case 61:var j=new d.ast.IFNode(f[g-3],f[g-1],null);this.$=j;break;case 57:case 58:var j=new d.ast.IFNode(f[g-3],f[g-1],f[g]);this.$=j;break;case 59:case 60:var k=new d.ast.ObjectNode("literalvalue",!0),j=new d.ast.IFNode(k,f[g-1],null);this.$=j;break;case 62:case 64:this.$=new d.ast.ListNode(f[g-7],f[g-3],f[g-1]);break;case 63:this.$=new d.ast.ListNode(f[g-8],f[g-4],f[g-1]);break;case 65:this.$=new d.ast.ListNode([f[g-9],f[g-7]],f[g-3],f[g-1],!0);break;case 66:var l=new d.ast.ObjectNode("literalvalue",Number(f[g-7]));this.$=new d.ast.ListNode([f[g-9],l],f[g-3],f[g-1],!0);break;case 67:var m=new d.ast.ObjectNode("literalvalue",Number(f[g-9]));this.$=new d.ast.ListNode([m,f[g-7]],f[g-3],f[g-1],!0);break;case 68:var m=new d.ast.ObjectNode("literalvalue",Number(f[g-9])),l=new d.ast.ObjectNode("literalvalue",Number(f[g-7]));this.$=new d.ast.ListNode([m,l],f[g-3],f[g-1],!0);break;case 69:var n=new d.ast.ObjectNode("value",f[g-3]);this.$=new d.ast.StatementNode("assign",n,f[g-1]);break;case 70:var n=new d.ast.ObjectNode("value",f[g-4]);this.$=new d.ast.StatementNode("assign",n,f[g-1])}},table:[{3:1,4:2,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{1:[3]},{5:[1,14],6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},b(i,[2,2]),b(i,[2,50]),b(i,[2,51]),b(i,[2,52]),b(i,[2,53]),b(i,[2,54]),b(i,[2,55]),{7:21,9:j,10:16,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:29,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{26:[1,30]},{26:[1,31]},{1:[2,1]},b(i,[2,3]),{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,28:G,29:H,30:I,42:[1,32]},{7:21,9:j,10:49,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:50,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:52,9:j,16:[1,51],27:[1,53],32:[1,54],33:[1,55],36:56,37:s},{7:21,9:j,10:57,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},b(J,[2,39],{8:K,26:[1,59],27:[1,58]}),b(J,[2,29],{26:[1,61]}),b(J,[2,33],{26:[1,62]}),b(J,[2,37]),b(J,[2,38]),b(J,[2,43]),b(L,[2,5]),{7:21,9:j,10:65,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s,38:[1,63],39:64},{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,28:G,29:H,30:I,48:[1,66]},{7:67,9:j,32:[1,69],36:68,37:s},{7:70,9:j},b(i,[2,49]),{7:21,9:j,10:71,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:72,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:73,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:74,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:75,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:76,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:77,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:78,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:79,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:80,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:81,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:82,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:83,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},b(J,[2,23]),b(J,[2,24]),{24:[1,84]},{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,25:[1,85],28:G,29:H,30:I},b(J,[2,20]),{7:21,9:j,10:86,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},b(J,[2,41],{8:K,26:[1,88],27:[1,87]}),{7:21,9:j,10:89,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},b(J,[2,30],{26:[1,90]}),b(J,[2,34],{26:[1,91]}),b(J,[2,44]),b(J,[2,22]),{7:21,9:j,10:92,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},b(J,[2,40]),{9:[1,93]},b(J,[2,31]),b(J,[2,36]),b(M,[2,45]),{31:[1,95],38:[1,94]},b(N,[2,47],{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,28:G,29:H,30:I}),{4:96,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{8:K,26:[1,97],56:[1,98]},{26:[1,99]},{56:[1,100]},{8:K,26:[1,102],58:[1,101]},b(O,[2,6],{12:u,13:v,17:z,28:G,29:H,30:I}),b(P,[2,7],{28:G,29:H,30:I}),b([11,13,14,15,16,18,19,20,21,22,23,25,31,38,42,48],[2,8],{12:u,17:z,28:G,29:H,30:I}),b(Q,[2,9],{11:t,12:u,13:v,16:y,17:z,28:G,29:H,30:I}),b(Q,[2,10],{11:t,12:u,13:v,16:y,17:z,28:G,29:H,30:I}),b(O,[2,11],{12:u,13:v,17:z,28:G,29:H,30:I}),b(P,[2,12],{28:G,29:H,30:I}),b(Q,[2,13],{11:t,12:u,13:v,16:y,17:z,28:G,29:H,30:I}),b(Q,[2,14],{11:t,12:u,13:v,16:y,17:z,28:G,29:H,30:I}),b(Q,[2,15],{11:t,12:u,13:v,16:y,17:z,28:G,29:H,30:I}),b(Q,[2,16],{11:t,12:u,13:v,16:y,17:z,28:G,29:H,30:I}),b(R,[2,17],{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,28:G,29:H,30:I}),b(R,[2,18],{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,28:G,29:H,30:I}),{7:21,9:j,10:103,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},b(J,[2,19]),b(J,[2,21]),{7:21,9:j,10:104,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},b(J,[2,42]),b(J,[2,28]),b(J,[2,32]),b(J,[2,35]),b(J,[2,26]),b(L,[2,4]),b(M,[2,46]),{7:21,9:j,10:105,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,49:[1,106],50:107,51:S,52:T,53:g,57:h},{54:[1,110]},{7:111,9:j,32:[1,112]},{54:[1,113]},{7:114,9:j,32:[1,115]},{7:21,9:j,10:116,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{58:[1,117]},{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,28:G,29:H,30:I,31:[1,118]},b(J,[2,27]),b(N,[2,48],{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,28:G,29:H,30:I}),b(i,[2,56]),b(i,[2,57]),{7:21,9:j,10:119,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{26:[1,121],48:[1,120]},{26:[1,122]},{8:K,26:[1,123]},{26:[1,124]},{26:[1,125]},{8:K,26:[1,126]},{26:[1,127]},{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,28:G,29:H,30:I,48:[1,128]},{7:21,9:j,10:129,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{7:21,9:j,10:130,16:k,24:l,26:m,27:n,32:o,33:p,34:q,35:r,36:26,37:s},{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,28:G,29:H,30:I,48:[1,131]},{4:132,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{48:[1,133]},{7:134,9:j},{54:[1,135]},{54:[1,136]},{7:137,9:j},{54:[1,138]},{54:[1,139]},b(i,[2,69]),{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,28:G,29:H,30:I,48:[1,140]},{11:t,12:u,13:v,14:w,15:x,16:y,17:z,18:A,19:B,20:C,21:D,22:E,23:F,25:[1,141],28:G,29:H,30:I},{4:142,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,49:[1,143],53:g,57:h},{4:144,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{8:K,26:[1,146],48:[1,145]},{26:[1,147]},{26:[1,148]},{8:K,48:[1,149]},{26:[1,150]},{26:[1,151]},b(i,[2,70]),b(J,[2,25]),{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,49:[1,153],50:152,51:S,52:T,53:g,57:h},b(i,[2,59]),{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,49:[1,154],53:g,57:h},{4:155,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{48:[1,156]},{7:157,9:j},{7:158,9:j},{4:159,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{7:160,9:j},{7:161,9:j},b(i,[2,58]),b(i,[2,61]),b(i,[2,60]),{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,55:[1,162],57:h},{4:163,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{8:K,48:[1,164]},{8:K,48:[1,165]},{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,55:[1,166],57:h},{8:K,48:[1,167]},{8:K,48:[1,168]},b(i,[2,62]),{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,55:[1,169],57:h},{4:170,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{4:171,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},b(i,[2,64]),{4:172,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},{4:173,6:3,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,57:h},b(i,[2,63]),{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,55:[1,174],57:h},{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,55:[1,175],57:h},{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,55:[1,176],57:h},{6:15,26:c,40:4,41:d,43:e,44:7,45:8,46:9,47:f,53:g,55:[1,177],57:h},b(i,[2,65]),b(i,[2,66]),b(i,[2,67]),b(i,[2,68])],defaultActions:{14:[2,1]},parseError:function(a,b){if(!b.recoverable)throw new Error(a);this.trace(a)},parse:function(a){function b(){var a;return a=o.lex()||m,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0,l=2,m=1,n=f.slice.call(arguments,1),o=Object.create(this.lexer),p={yy:{}};for(var q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,q)&&(p.yy[q]=this.yy[q]);o.setInput(a,p.yy),p.yy.lexer=o,p.yy.parser=this,"undefined"==typeof o.yylloc&&(o.yylloc={});var r=o.yylloc;f.push(r);var s=o.options&&o.options.ranges;this.parseError="function"==typeof p.yy.parseError?p.yy.parseError:Object.getPrototypeOf(this).parseError;for(var t,u,v,w,x,y,z,A,B,C={};;){if(v=d[d.length-1],this.defaultActions[v]?w=this.defaultActions[v]:((null===t||"undefined"==typeof t)&&(t=b()),w=g[v]&&g[v][t]),"undefined"==typeof w||!w.length||!w[0]){var D="";B=[];for(y in g[v])this.terminals_[y]&&y>l&&B.push("'"+this.terminals_[y]+"'");D=o.showPosition?"Parse error on line "+(i+1)+":\n"+o.showPosition()+"\nExpecting "+B.join(", ")+", got '"+(this.terminals_[t]||t)+"'":"Parse error on line "+(i+1)+": Unexpected "+(t==m?"end of input":"'"+(this.terminals_[t]||t)+"'"),this.parseError(D,{text:o.match,token:this.terminals_[t]||t,line:o.yylineno,loc:r,expected:B})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+t);switch(w[0]){case 1:d.push(t),e.push(o.yytext),f.push(o.yylloc),d.push(w[1]),t=null,u?(t=u,u=null):(j=o.yyleng,h=o.yytext,i=o.yylineno,r=o.yylloc,k>0&&k--);break;case 2:if(z=this.productions_[w[1]][1],C.$=e[e.length-z],C._$={first_line:f[f.length-(z||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(z||1)].first_column,last_column:f[f.length-1].last_column},s&&(C._$.range=[f[f.length-(z||1)].range[0],f[f.length-1].range[1]]),x=this.performAction.apply(C,[h,j,i,p.yy,w[1],e,f].concat(n)),"undefined"!=typeof x)return x;z&&(d=d.slice(0,-1*z*2),e=e.slice(0,-1*z),f=f.slice(0,-1*z)),d.push(this.productions_[w[1]][0]),e.push(C.$),f.push(C._$),A=g[d[d.length-2]][d[d.length-1]],d.push(A);break;case 3:return!0}}return!0}},V=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a,b){return this.yy=b||this.yy||{},this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack){for(var f in e)this[f]=e[f];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");for(var e=this._currentRules(),f=0;f<e.length;f++)if(c=this._input.match(this.rules[e[f]]),c&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(a=this.test_match(c,e[f]),a!==!1)return a;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?(a=this.test_match(b,e[d]),a!==!1?a:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){var a=this.conditionStack.length-1;return a>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 0:return this.begin("interpolation"),41;case 1:return this.popState(),42;case 2:return 54;case 3:return 32;case 4:return 33;case 5:return 34;case 6:return 35;case 7:return 9;case 8:return 56;case 9:return 12;case 10:return 17;case 11:return 13;case 12:return 16;case 13:return 11;case 14:return this.begin("array"),37;case 15:return this.popState(),38;case 16:return 22;case 17:return 23;case 18:return 21;case 19:return 20;case 20:return 18;case 21:return this.begin("exp"),24;case 22:return 19;case 23:return 31;case 24:return this.popState(),25;case 25:return 8;case 26:return 14;case 27:return 15;case 28:return 58;case 29:return 27;case 30:return 28;case 31:return 29;case 32:return 30;case 33:return this.begin("if_drt"),47;case 34:return 49;case 35:return this.begin("list_drt"),53;case 36:return 55;case 37:return this.popState(),48;case 38:return this.begin("if_drt"),51;case 39:return this.begin("if_drt"),52;case 40:return this.begin("assign_drt"),57;case 41:return"";case 42:return 26;case 43:return 43;case 44:return 5}},rules:[/^(?:\$\{)/,/^(?:\})/,/^(?:as\b)/,/^(?:[0-9]+(\.[0-9]+)?\b)/,/^(?:"[^"\n]*["\n]|'[^'\n]*['\n])/,/^(?:[ \t]*true\b)/,/^(?:[ \t]*false\b)/,/^(?:[a-zA-Z][a-zA-Z_0-9]*)/,/^(?:\.\.)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:-)/,/^(?:\+)/,/^(?:\[)/,/^(?:\])/,/^(?:\|\|)/,/^(?:&&)/,/^(?:<=)/,/^(?:>=)/,/^(?:<)/,/^(?:[ \t]*\()/,/^(?:>)/,/^(?:[ \t]*,)/,/^(?:\)[ \t]*)/,/^(?:\.)/,/^(?:==)/,/^(?:!=)/,/^(?:=)/,/^(?:[ \t]*!)/,/^(?:\?\?[ \t]*)/,/^(?:\?html[ \t]*)/,/^(?:\?string[ \t]*)/,/^(?:<#if\b)/,/^(?:<\/#if>)/,/^(?:<#list\b)/,/^(?:<\/#list>)/,/^(?:[ \t]*>)/,/^(?:<#elseif\b)/,/^(?:<#else\b)/,/^(?:<#assign\b)/,/^(?:[ \t]+)/,/^(?:[ \t]+)/,/^(?:(.|\n))/,/^(?:$)/],conditions:{if_drt:{rules:[0,1,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44],inclusive:!0},list_drt:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44],inclusive:!0},assign_drt:{rules:[0,1,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,43,44],inclusive:!0},interpolation:{rules:[0,1,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,24,25,26,27,29,30,31,32,33,34,35,36,38,39,40,41,42,43,44],inclusive:!0},exp:{rules:[0,1,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,38,39,40,42,43,44],inclusive:!0},logic_op:{rules:[0,1,2,33,34,35,36,38,39,40,42,43,44],inclusive:!0},array:{rules:[0,1,2,3,4,5,6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,23,24,25,26,27,29,30,31,32,33,34,35,36,38,39,40,42,43,44],inclusive:!0},INITIAL:{rules:[0,1,2,33,34,35,36,38,39,40,42,43,44],inclusive:!0}}};return a}();return U.lexer=V,a.prototype=U,U.Parser=a,new a}();(function(){function a(a){this.type=a}var b=this.yy.ast={};b.ExpressionNode=function(b,c,d,e){a.call(this,"expression"),this.op=b,this.v1=c,this.v2=d,this.v3=e},b.ObjectNode=function(b,c,d){a.call(this,"object"),this.v1=c,this.v2=d,this.op=b},b.IDNode=function(b){a.call(this,"ID"),this.name=b},b.ContentNode=function(){a.call(this,"content"),this.v=[]},b.LiteralNode=function(b){a.call(this,"literal"),this.v=b},b.InterPolationNode=function(b){a.call(this,"iterpolation"),this.v=b},b.IFNode=function(b,c,d){a.call(this,"if"),this.cond=b,this.statement=c,this.child=d},b.ListNode=function(b,c,d,e){a.call(this,"list"),this.collection=b,this.alias=c,this.isRange=e||!1,this.statement=d},b.StatementNode=function(b,c,d){a.call(this,"statement"),this.op=b,this.lv=c,this.rv=d}}).call(jerrymarker),function(){function a(a){return null!=a}function b(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function c(a,b){if(null==a||"object"!=typeof a)return a;if(void 0==b)b=[];else{var d,e=b.length;for(d=0;e>d;d++)if(a===b[d])return a}if(b.push(a),"function"==typeof a.clone)return a.clone(!0);if("[object Array]"==Object.prototype.toString.call(a)){g=a.slice();for(var d=g.length;d--;)g[d]=c(g[d],b);return g}if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);if(a.nodeType&&"function"==typeof a.cloneNode)return a.cloneNode(!0);var f=Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__;f||(f=a.constructor.prototype);var g=Object.create(f);for(var h in a)g[h]=c(a[h],b);return g}function d(a,b){switch(a.op){case"assign":var c;switch(a.rv.type){case"expression":c=i(a.rv,null,b);break;case"object":c=h(a.rv,null,b)}e(a.lv,null,b,c)}}function e(a,b,c,d){var e=[];g(a,b,c,d,e),f(c,e,d)}function f(a,b,c){if(b.length>1){var d=b.shift();a&&(a[d]=c),(null===a[d]||"object"!=typeof a[d])&&(a[d]={}),f(a[d],b,c)}else a[b[0]]=c}function g(a,b,c,d,e){if(a.op)switch(a.op){case".":return g(a.v1,a.v2,c,d,e),void e.push(a.v2);case"value":return g(a.v1,a.v2,c,d,e),void(a.v2&&e.push(a.v2))}else e.push(a)}function h(a,b,c){var d,e=0;switch(a.op){case".":return d=h(a.v1,a.v2,c),d[a.v2];case"value":return d=h(a.v1,a.v2,c);case"literalvalue":return a.v1;case"array":var f=[];for(e=0;e<a.v1.length;++e)f.push(h(a.v1[e],null,c));return f;default:return c?c[a]:void 0}}function i(d,e,f){var g=null,j=null,k=null,l=0;switch(d.type){case"expression":switch(d.op){case"*":return i(d.v1,null,f)*i(d.v2,null,f);case"+":if(g=i(d.v1,null,f),j=i(d.v2,null,f),p(g)){for(l=0,k=[],l=0;l<g.length;l++)k.push(c(g[l]));if(p(j))for(l=0;l<j.length;l++)k.push(c(j[l]));else k.push(c(j));return k}return g+j;case"%":return i(d.v1,null,f)%i(d.v2,null,f);case"==":return i(d.v1,null,f)==i(d.v2,null,f);case"!=":return i(d.v1,null,f)!=i(d.v2,null,f);case"-":return i(d.v1,null,f)-i(d.v2,null,f);case"/":return i(d.v1,null,f)/i(d.v2,null,f);case"eval":return i(d.v1,null,f);case"uminus":return-i(d.v1,null,f);case"unot":return!i(d.v1,null,f);case"exist":return a(i(d.v1,null,f));case"existset":if(k=i(d.v1,null,f),!a(k)){var m=i(d.v2,null,f);return m}return;case"trueset":return i(d.v1,null,f)?i(d.v2,null,f):i(d.v3,null,f);case"tohtml":return b(i(d.v1,null,f));case"||":return i(d.v1,null,f)||i(d.v2,null,f);case"&&":return i(d.v1,null,f)&&i(d.v2,null,f);case">":return i(d.v1,null,f)>i(d.v2,null,f);case"<":return i(d.v1,null,f)<i(d.v2,null,f);case">=":return i(d.v1,null,f)>=i(d.v2,null,f);case"<=":return i(d.v1,null,f)<=i(d.v2,null,f)}break;case"object":return h(d,null,f)}}function j(a,b,c,d){if(a.cond){if(!0!==i(a.cond,null,b)){for(var e=a;e;){var f=i(e.cond,null,b);if(f){l(e.statement,b,c,d);break}e=e.child}return}l(a.statement,b,c,d)}}function k(a,b,c,d){var f,g=[];if(a.isRange){if(a.collection&&2===a.collection.length)for(var i=parseInt(h(a.collection[0],null,b),10),j=parseInt(h(a.collection[1],null,b),10),k=1;j>i;)g.push(i),i+=k}else a.collection&&(g=h(a.collection,null,b));for(f=0;f<g.length;++f)e(a.alias,null,b,g[f]),l(a.statement,b,c,d)}function l(a,b,c,e){if(a){switch(a.type){case"content":for(var f=0;f<a.v.length;++f)l(a.v[f],b,c,e);break;case"literal":c(a.v);break;case"object":c(h(a,null,b));break;case"iterpolation":l(a.v,b,c,e);break;case"expression":c(i(a,null,b));break;case"if":j(a,b,c,e);break;case"list":k(a,b,c,e);break;case"statement":d(a,b)}return e()}}function m(a){var b=this.parse(a);if(b){var c=function(a){var c=[],d=function(a){c.push(a)},e=function(){return c.join("")};return l(b,a,d,e)};return c.ast=b,c}return null}var n=this.util={};n.travel=l,this.compile=m;var o=Array.isArray,p=o||function(a){return"[object Array]"===toString.call(a)}}.call(jerrymarker),"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.compile=jerrymarker.compile.bind(jerrymarker),exports.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var b=require("fs").readFileSync(require("path").normalize(a[1]),"utf8"),c=exports.compile(b),d={};console.log(c(d))},"undefined"!=typeof module&&require.main===module&&exports.main(process.argv.slice(1)));